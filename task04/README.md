## Антон Хомяков БПИ191 Вариант 26
### Домашнее задание 4 по Архитектуре вычислительных систем.

## Задание вар. 26. 
Вторая задача об Острове Сокровищ. Шайка пиратов под
предводительством Джона Сильвера высадилась на берег Острова Сокровищ.
Не смотря на добытую карту старого Флинта, местоположение сокровищ по-
прежнему остается загадкой, поэтому искать клад приходится практически
на ощупь. Так как Сильвер ходит на деревянной ноге, то самому бродить по
джунглям ему не с руки. Джон Сильвер поделил остров на участки, а пиратов
на небольшие группы. Каждой группе поручается искать клад на нескольких
участках, а сам Сильвер ждет на берегу. Группа пиратов, обшарив одну часть
острова, переходит к другой, еще необследованной части. Закончив поиски,
пираты возвращаются к Сильверу и докладывают о результатах. Требуется
создать многопоточное приложение с управляющим потоком, моделирующее
действия Сильвера и пиратов. При решении использовать парадигму
портфеля задач.

## Комментарий
Для решения задачи я создал консольное приложение, в котором записана одна карта,
но размеры кажого участка, количество групп и размер группы вводятся пользователем.
Я использовал парадигму портфеля задач, у каждого потока есть доступ к переменной curr_task
и каждый раз, когда пираты переходят на следующий участок, она увеличивается. Все потоки вызываются 
с помощью дириктивы omp parallel for. Также дириктивы omp critical для правильного вывода карты 
и ограничения доступа к curr_task. Перемещения пиратов происходят случайно в пределах одного участка, 
пока пираты не найдут сокровище. Для вывода карты используется отдельный поток, и на каждом потоке
стоит задержка 1 сек. При выводе в консоль отедельные участки выделяются цветом, пираты в каджой 
группе также выделяются цветом и буквой P. Сокровище лежит в клетке, обозначенной X и выделенной красным.

## Исходный код
[main.cpp](https://github.com/antonkhmv/dz-avs/blob/master/task03/main.cpp)

## Тест 1
Входные данные: размер каждого поля: 3x10, количество груп: 3, размер группы: 4

![img](https://github.com/antonkhmv/dz-avs/blob/master/task03/img/1.png)

## Тест 2
Входные данные: размер каждого поля: 6x10, количество груп: 4, размер группы: 5

![img](https://github.com/antonkhmv/dz-avs/blob/master/task03/img/2.png)

## Тест 3
Входные данные: размер каждого поля: 4x10, количество груп: 4, размер группы: 5

![img](https://github.com/antonkhmv/dz-avs/blob/master/task03/img/3.png)

## Тест 4
Входные данные: размер каждого поля: 6x10, количество груп: 5, размер группы: 8

![img](https://github.com/antonkhmv/dz-avs/blob/master/task03/img/4.png)
